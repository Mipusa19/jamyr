;/*FB_PKG_DELIM*/

__d("CometDefaultPageSizes",[],(function(a,b,c,d,e,f){"use strict";a=[1,2,2,2,4];f.DEFAULT_PAGE_SIZES=a}),66);
__d("CometInfiniteScrollSuspenseListIncrementalRenderer.react",["CometDefaultPageSizes","CometInfiniteScrollSuspenseList.react","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.Children,j=b.useCallback,k=b.useMemo,l=b.useRef,m=b.useState;function a(a){var b=a.children,e=a.hasMore,f=a.isLoading,g=a.onLoadMore,n=a.revealOrder;n=n===void 0?"forwards":n;var o=a.pageSizes,p=o===void 0?d("CometDefaultPageSizes").DEFAULT_PAGE_SIZES:o;o=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasMore","isLoading","onLoadMore","revealOrder","pageSizes"]);a=m(p[0]);var q=a[0],r=a[1],s=l(1),t=i.count(b);a=q<t;if(n!=="forwards")throw c("unrecoverableViolation")('CometInfiniteScrollSuspenseListIncrementalRenderer currently only supports revealOrder="forwards"',"comet_feed");var u=j(function(a){s.current=Math.min(s.current,p.length-1);var b=p[s.current],c=q<t;c?(s.current++,r(q+b)):e&&!f&&(q===t&&(s.current++,r(q+b)),g(a))},[e,f,t,q,g,p]),v=k(function(){return i.toArray(b).slice(0,q)},[b,q]);return h.jsx(c("CometInfiniteScrollSuspenseList.react"),babelHelpers["extends"]({},o,{hasMore:e||a,isLoading:f&&!a,onLoadMore:u,revealOrder:n,children:v}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useHasDemonstratedScrollIntent",["CometEventListener","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState;function a(){var a=i(!1),b=a[0],d=a[1];h(function(){if(!b){var a=window.scrollY,e=c("CometEventListener").capture(window,"scroll",function(b){b.target===window.document&&window.scrollY!==a&&d(!0)});return function(){e.remove()}}},[b]);return b}g["default"]=a}),98);
__d("CometFeedInfiniteScrollSuspenseList.react",["CometFeedGlimmer.react","CometFeedTailLoadBufferHeight","CometInfiniteScrollSuspenseList.react","CometInfiniteScrollSuspenseListIncrementalRenderer.react","CometInteractionSourceContext","FBLogger","QuickPerformanceLogger","WebConnectionClassServerGuess","gkx","qpl","react","useHasDemonstratedScrollIntent","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.incrementalRendering;b=b===void 0?!0:b;var d=a.waitOnScrollIntent,e=a.children,f=a.hasMore,g=a.incrementalRenderingPageSizes,j=a.interactionSource,k=a.isLoading,l=a.onLoadMore,m=a.pageletName,n=a.positionLimitForSSR,o=a.reducedSpacing,p=a.revealOrder;c("gkx")("3048")&&(b=!1,d=!1);var q=c("useHasDemonstratedScrollIntent")();a=i(function(){return{onVisible:function(){c("QuickPerformanceLogger").markEvent(c("qpl")._(655653,"17524"),"collision_happened",7,{annotations:{bool:{had_demonstrated_scroll_intent:q},"int":{interaction_source:j}}})}}},[j,q]);a=c("useVisibilityObserver")(a);var r=i(function(){var a;if(d===!0&&!q)return 0;var b;switch(c("WebConnectionClassServerGuess").connectionClass){case"UNKNOWN":case"EXCELLENT":default:b=c("CometFeedTailLoadBufferHeight").EXCELLENT;break;case"GOOD":b=c("CometFeedTailLoadBufferHeight").GOOD;break;case"MODERATE":b=c("CometFeedTailLoadBufferHeight").MODERATE;break;case"POOR":b=c("CometFeedTailLoadBufferHeight").POOR;break}b==null&&(c("FBLogger")("comet_feed").mustfix("Found no tail load buffer height value for the connection class `%s`. Falling back to 2500px.",c("WebConnectionClassServerGuess").connectionClass),b=2500);return a={},a[p==="backwards"?"top":"bottom"]=b,a},[p,q,d]);a={endGlimmerRef:a,hasMore:f,isLoading:k,listGlimmer:h.jsx(c("CometFeedGlimmer.react"),{reducedSpacing:o}),onLoadMore:l,pageletName:m,positionLimitForSSR:n,revealOrder:p,rootMargin:r};if(b&&(p==null||p==="forwards"))return h.jsx(c("CometInteractionSourceContext").Provider,{value:j,children:h.jsx(c("CometInfiniteScrollSuspenseListIncrementalRenderer.react"),babelHelpers["extends"]({pageSizes:g},a,{children:e}))});else return h.jsx(c("CometInteractionSourceContext").Provider,{value:j,children:h.jsx(c("CometInfiniteScrollSuspenseList.react"),babelHelpers["extends"]({},a,{children:e}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedUnitDebugInfoState",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a,b,c){g[a]==null&&(g[a]=[]),g[a][b]=c}function b(a){g[a]=[]}function c(){var a={};Object.keys(g).forEach(function(b){var c=g[b].map(function(a,b){return a.visible?babelHelpers["extends"]({},a,{position:b}):null}).filter(Boolean);a[b]={visibleUnits:c,allUnits:g[b]}});return a}f.addFeedUnitDebugInfo=a;f.clearFeedUnitInfo=b;f.getStateSnapshot=c}),66);
__d("CometFeedUnitSetDebugInfoContextProvider.react",["CometFeedUnitDebugInfoState","CometFeedUnitSetDebugInfoContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.children,e=a.location;a=i(function(a,b){return d("CometFeedUnitDebugInfoState").addFeedUnitDebugInfo(e,a,b)},[e]);return h.jsx(c("CometFeedUnitSetDebugInfoContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometFeedUnitID",[],(function(a,b,c,d,e,f){"use strict";function a(a){return"CometFeedUnit_"+a}f["default"]=a}),66);
__d("useCometFeedKeyCommands",["CometFeedUnitDebugInfoState","FocusRegion.react","GHLAriaLabelTracker","cometFeedUnitID","cometGetKeyCommandConfig","emptyFunction","react","scrollTo","useLayerKeyCommands"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useMemo,j=b.useState,k=60+16,l=function(a,b){return b.role==="article"};function m(a,b,e,f){c("GHLAriaLabelTracker").set();a=d("FocusRegion.react").focusRegionById(c("cometFeedUnitID")(a),l,!0);var g=document.documentElement;if(a!=null&&g!=null){g=a.getBoundingClientRect();g=g.top+window.pageYOffset-k-((a=b)!=null?a:0);c("scrollTo")({behavior:"smooth",onScrollComplete:f,onScrollStart:e,top:g});return!0}return!1}function n(a,b,c,d){var e=document.activeElement;e!=null&&(e.blur(),window.requestAnimationFrame(function(){m(a,b,c,d)}))}function a(a,b,e,f,g){f===void 0&&(f=c("emptyFunction"));g===void 0&&(g=c("emptyFunction"));var k=j(-1),l=k[0],o=k[1],p=h(function(a){if(b==null)return l;var c=d("CometFeedUnitDebugInfoState").getStateSnapshot();c=c[b];if(c==null)return l;c=c.visibleUnits;if(c.some(function(a){return a.visible&&a.position===l}))return l;a=a==="forward"?c[0]:c[c.length-1];c=a==null?void 0:a.position;if(c===0)return-1;else{return(a=c)!=null?a:-1}},[l,b]),q=h(function(){var b=p("forward");if(b<a-1){var c=b+1;m(c,e,f,g)&&o(c)}else n(b,e,f,g)},[p,g,f,a,e]),r=h(function(){var a=p("backward");if(a>0){var b=a-1;m(b,e,f,g)&&o(b)}else n(a,e,f,g)},[p,g,f,e]);k=i(function(){return[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","scrollNext",q),d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","scrollPrevious",r)]},[q,r]);c("useLayerKeyCommands")(k);return l}g["default"]=a}),98);